<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>响应式随笔便笺</title>
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpolyline points='14 2 14 8 20 8'/%3E%3Cline x1='16' y1='13' x2='8' y2='13'/%3E%3Cline x1='16' y1='17' x2='8' y2='17'/%3E%3Cpolyline points='10 9 9 9 8 9'/%3E%3C/svg%3E"
        type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-50 min-h-screen">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-xl font-semibold text-gray-800">随笔便笺</h1>
            <div class="flex items-center space-x-4">
                <div id="authButtons" class="hidden">
                    <button id="loginBtn" class="text-gray-600 hover:text-blue-500">登录</button>
                    <button id="registerBtn" class="text-gray-600 hover:text-blue-500">注册</button>
                </div>
                <div id="userMenu" class="hidden flex items-center space-x-2">
                    <span id="usernameDisplay" class="text-sm font-medium text-gray-700"></span>
                    <button id="logoutBtn" class="text-red-500 hover:text-red-700 text-sm">退出</button>
                </div>

                <!-- 电脑端新建按钮 -->
                <button id="newNoteBtn"
                    class="hidden md:block bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-all duration-200 transform hover:scale-105 hidden">
                    新建随笔
                </button>
            </div>
        </div>
        <!-- Tabs -->
        <div class="bg-white border-t border-gray-100">
            <div class="container mx-auto px-4 flex">
                <button id="tabPlaza"
                    class="px-6 py-3 text-sm font-medium text-blue-600 border-b-2 border-blue-600 focus:outline-none transition-colors">广场</button>
                <button id="tabMyNotes"
                    class="px-6 py-3 text-sm font-medium text-gray-500 hover:text-blue-600 focus:outline-none transition-colors hidden">我的随笔</button>
            </div>
        </div>
    </nav>

    <!-- 移动端悬浮新建按钮 -->
    <button id="mobileNewNoteBtn"
        class="md:hidden fixed bottom-6 right-6 bg-blue-500 hover:bg-blue-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 z-40 hidden">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
        </svg>
    </button>

    <!-- 随笔卡片容器 -->
    <main class="container mx-auto px-4 pt-32 pb-20">
        <div id="notesGrid" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4">
            <!-- 随笔卡片将通过 JavaScript 动态生成 -->
        </div>
    </main>

    <!-- 新建/编辑随笔模态框 -->
    <div id="noteModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md mx-4 md:mx-0 transform transition-all duration-300">
            <div class="p-4 border-b">
                <h2 id="modalTitle" class="text-lg font-semibold text-gray-800">新建随笔</h2>
            </div>
            <div class="p-4">
                <div class="mb-4">
                    <label for="noteTitle" class="block text-sm font-medium text-gray-700 mb-1">标题</label>
                    <input type="text" id="noteTitle"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        placeholder="请输入标题">
                </div>
                <div class="mb-4">
                    <label for="noteContent" class="block text-sm font-medium text-gray-700 mb-1">内容</label>
                    <textarea id="noteContent"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        rows="6" placeholder="请输入内容"></textarea>
                </div>
                <div class="mb-4 flex items-center">
                    <input type="checkbox" id="isPublic"
                        class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                    <label for="isPublic" class="ml-2 text-sm font-medium text-gray-900">公开 (发布到广场)</label>
                </div>
            </div>
            <div class="p-4 border-t flex justify-end gap-3">
                <button id="cancelBtn"
                    class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg transition-colors duration-200">
                    取消
                </button>
                <button id="saveBtn"
                    class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200">
                    保存
                </button>
            </div>
        </div>
    </div>

    <!-- 登录/注册 模态框 -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-sm mx-4 transform transition-all duration-300">
            <div class="p-6">
                <h2 id="authModalTitle" class="text-2xl font-bold text-center mb-6 text-gray-800">登录</h2>
                <form id="authForm">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="username">用户名</label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="username" type="text" placeholder="用户名" required>
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="password">密码</label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"
                            id="password" type="password" placeholder="******************" required>
                    </div>
                    <div class="flex items-center justify-between">
                        <button id="authSubmitBtn"
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full"
                            type="submit">
                            登录
                        </button>
                    </div>
                </form>
                <div class="mt-4 text-center">
                    <button id="toggleAuthMode" class="text-sm text-blue-500 hover:text-blue-800">没有账号？去注册</button>
                    <button id="closeAuthModal" class="text-sm text-gray-500 hover:text-gray-800 ml-4">关闭</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=3"></script>
</body>

</html>